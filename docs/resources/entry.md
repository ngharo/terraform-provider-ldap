---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "ldap_entry Resource - ldap"
subcategory: ""
description: |-
  Manages an LDAP entry. Each entry is identified by its Distinguished Name (DN) and contains object classes and attributes.
---

# ldap_entry (Resource)

Manages an LDAP entry. Each entry is identified by its Distinguished Name (DN) and contains object classes and attributes.

## Example Usage

```terraform
# Create a basic person entry
resource "ldap_entry" "user" {
  dn           = "cn=john.doe,ou=users,dc=example,dc=com"
  object_class = ["person", "organizationalPerson", "inetOrgPerson"]

  attributes = {
    cn          = ["john.doe"]
    sn          = ["Doe"]
    givenName   = ["John"]
    mail        = ["john.doe@example.com"]
    description = ["Software Engineer"]
  }
}

# Create a group entry with single member
resource "ldap_entry" "group" {
  dn           = "cn=developers,ou=groups,dc=example,dc=com"
  object_class = ["top", "groupOfNames"]

  attributes = {
    cn          = ["developers"]
    description = ["Development team"]
    member      = [ldap_entry.user.dn]
  }
}

# Create an organizational unit
resource "ldap_entry" "department" {
  dn           = "ou=engineering,dc=example,dc=com"
  object_class = ["top", "organizationalUnit"]

  attributes = {
    ou          = ["engineering"]
    description = ["Engineering Department"]
  }
}

# Example: User with multiple email addresses (multi-valued attribute)
resource "ldap_entry" "user_multi_email" {
  dn           = "cn=jane.smith,ou=users,dc=example,dc=com"
  object_class = ["person", "organizationalPerson", "inetOrgPerson"]

  attributes = {
    cn        = ["jane.smith"]
    sn        = ["Smith"]
    givenName = ["Jane"]
    mail = [
      "jane.smith@example.com",
      "jane.smith@company.example.com",
      "j.smith@example.com"
    ]
    telephoneNumber = [
      "+1-555-123-4567",
      "+1-555-987-6543"
    ]
    description = ["Senior Software Engineer", "Team Lead"]
  }
}

# Example: Group with multiple members (multi-valued attribute)
resource "ldap_entry" "group_multi_member" {
  dn           = "cn=admins,ou=groups,dc=example,dc=com"
  object_class = ["top", "groupOfNames"]

  attributes = {
    cn          = ["admins"]
    description = ["System Administrators"]
    member = [
      ldap_entry.user.dn,
      ldap_entry.user_multi_email.dn,
      "cn=admin,ou=users,dc=example,dc=com"
    ]
  }
}

# Example: User with password using write-only attributes
# Write-only attributes are never stored in Terraform state (Terraform 1.11+)
resource "ldap_entry" "user_with_password" {
  dn           = "cn=secure.user,ou=users,dc=example,dc=com"
  object_class = ["person", "organizationalPerson", "inetOrgPerson"]

  attributes = {
    cn        = ["secure.user"]
    sn        = ["User"]
    givenName = ["Secure"]
    mail      = ["secure.user@example.com"]
  }

  # Write-only attributes for sensitive data (requires Terraform 1.11+)
  attributes_wo = {
    userPassword = ["MySecretPassword123!"]
  }

  # Version number - increment to trigger password updates
  attributes_wo_version = 1
}

# Example: Active Directory user with unicodePwd
# The provider automatically encodes unicodePwd as UTF-16LE with quotes
resource "ldap_entry" "ad_user" {
  dn           = "CN=AD User,OU=Users,DC=example,DC=com"
  object_class = ["top", "person", "organizationalPerson", "user"]

  attributes = {
    cn                = ["AD User"]
    sAMAccountName    = ["aduser"]
    userPrincipalName = ["aduser@example.com"]
  }

  # unicodePwd is automatically encoded as UTF-16LE for Active Directory
  attributes_wo = {
    unicodePwd = ["Password123!"]
  }

  # Increment this version to rotate the password
  attributes_wo_version = 1
}

# Example: Rotating a password by incrementing the version
resource "ldap_entry" "user_password_rotation" {
  dn           = "cn=rotating.user,ou=users,dc=example,dc=com"
  object_class = ["person", "organizationalPerson", "inetOrgPerson"]

  attributes = {
    cn        = ["rotating.user"]
    sn        = ["User"]
    givenName = ["Rotating"]
  }

  attributes_wo = {
    userPassword = ["NewPassword456!"]
  }

  # Increment from 1 -> 2 -> 3, etc. to trigger password updates
  # Only when this value changes will attributes_wo be sent to LDAP
  attributes_wo_version = 2
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `dn` (String) The distinguished name (DN) of the LDAP entry. This uniquely identifies the entry in the LDAP directory tree. Changing this forces a new resource to be created.
- `object_class` (List of String) List of object classes for the LDAP entry. Object classes define the schema and required attributes for the entry. Common values include `person`, `organizationalPerson`, `inetOrgPerson`, `groupOfNames`, and `organizationalUnit`.

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `attributes` (Map of List of String) Map of LDAP attributes for the entry. The keys are attribute names and values are lists of attribute values. For single-valued attributes, provide a list with one element. For multi-valued attributes like `member` in groups, provide a list with multiple elements. Note that `objectClass` is automatically managed and should not be included here.
- `attributes_wo` (Map of List of String, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) Write-only map of LDAP attributes for the entry containing sensitive values. The keys are attribute names and values are lists of attribute values. These attributes are never stored in Terraform state and are only used during resource creation and updates. Use this for sensitive data like passwords, API keys, or other secrets. Must be used in conjunction with `attributes_wo_version`. Requires Terraform 1.11 or later. NOTE: `unicodePwd` will be automatically encoded as UTF-16LE for Active Directory.
- `attributes_wo_version` (Number) Version number for write-only attributes. Increment this value (e.g., 1, 2, 3) whenever you want to update the `attributes_wo` values on the LDAP server. Since write-only attributes are not stored in state, Terraform cannot detect changes to them. Changing this version number triggers the provider to send the current `attributes_wo` values to the LDAP server during updates.

### Read-Only

- `id` (String) The unique identifier for this resource, which is the same as the DN.

## Import

Import is supported using the following syntax:

The [`terraform import` command](https://developer.hashicorp.com/terraform/cli/commands/import) can be used, for example:

```shell
#!/bin/bash

# Import an existing LDAP entry using its DN
terraform import ldap_entry.user "cn=john.doe,ou=users,dc=example,dc=com"

# Import a group entry
terraform import ldap_entry.group "cn=developers,ou=groups,dc=example,dc=com"

# Import an organizational unit
terraform import ldap_entry.department "ou=engineering,dc=example,dc=com"
```
